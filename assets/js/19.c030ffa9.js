(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1047:function(s,a,e){"use strict";e.r(a);var n=e(27),t=Object(n.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"redis十大数据类型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#redis十大数据类型"}},[s._v("#")]),s._v(" Redis十大数据类型")]),s._v(" "),n("blockquote",[n("p",[s._v("此处所说的数据类型是"),n("code",[s._v("value")]),s._v("的数据类型，"),n("code",[s._v("key")]),s._v("的类型都是字符串。")])]),s._v(" "),n("h3",{attrs:{id:"_3-1-redis-键-key"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-redis-键-key"}},[s._v("#")]),s._v(" 3.1 Redis 键（key)")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[s._v("命令")]),s._v(" "),n("th",[s._v("概述")])])]),s._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[s._v("keys *")]),s._v(" "),n("td",[s._v("查看当前库所有的key")])]),s._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[s._v("exists key")]),s._v(" "),n("td",[s._v("判断某个key是否存在")])]),s._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[s._v("type key")]),s._v(" "),n("td",[s._v("查看key是什么类型")])]),s._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[s._v("del key")]),s._v(" "),n("td",[s._v("删除指定key")])]),s._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[s._v("unlink key")]),s._v(" "),n("td",[s._v("非阻塞删除，仅仅将keys从keyspace元数据中删除，真正的删除会在后续异步中操作。")])]),s._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[s._v("ttl key")]),s._v(" "),n("td",[s._v("查看还有多少秒过期，-1表示永不过期，-2表示已过期")])]),s._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[s._v("expire key 秒钟")]),s._v(" "),n("td",[s._v("为给定的key设置过期时间")])]),s._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[s._v("move key dbindex【0-15】")]),s._v(" "),n("td",[s._v("将当前数据库的key移动到给定的数据库db中")])]),s._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[s._v("select dbindex")]),s._v(" "),n("td",[s._v("切换数据库【0-15】，默认为0")])]),s._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[s._v("dbsize")]),s._v(" "),n("td",[s._v("查看当前数据库的key的数量")])]),s._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[s._v("flushdb")]),s._v(" "),n("td",[s._v("清空当前库")])]),s._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[s._v("flushall")]),s._v(" "),n("td",[s._v("通杀全部库【清库】")])])])]),s._v(" "),n("blockquote",[n("p",[s._v("命令不区分大小写，而key是区分大小写的。")]),s._v(" "),n("p",[s._v("永远的帮助命令，"),n("code",[s._v("help@类型")]),s._v("，"),n("code",[s._v("help @String")]),s._v("、"),n("code",[s._v("help @list")]),s._v("...")])]),s._v(" "),n("h3",{attrs:{id:"_3-2-redis-字符串-string"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-redis-字符串-string"}},[s._v("#")]),s._v(" 3.2 Redis 字符串(String)")]),s._v(" "),n("h4",{attrs:{id:"_3-2-1-set命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-1-set命令"}},[s._v("#")]),s._v(" 3.2.1 SET命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("SET key value [NX | XX] [GET] [EX seconds | PX milliseconds |\n  EXAT unix-time-seconds | PXAT unix-time-milliseconds | KEEPTTL]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("blockquote",[n("p",[s._v("set 命令有"),n("code",[s._v("EX")]),s._v("、"),n("code",[s._v("PS")]),s._v("、"),n("code",[s._v("NX")]),s._v("、"),n("code",[s._v("XX")]),s._v("以及"),n("code",[s._v("KEEPTTL")]),s._v("五个可选参数，其中"),n("code",[s._v("KEEPTTL")]),s._v("为6.0版本添加的可选参数，其他为2.6.12版本添加的可选参数。")]),s._v(" "),n("ul",[n("li",[n("code",[s._v("EX seconds")]),s._v("：以秒为单位设置过期时间；")]),s._v(" "),n("li",[n("code",[s._v("PX milliseconds")]),s._v("：以毫秒为单位设置过期时间；")]),s._v(" "),n("li",[n("code",[s._v("EXAT timestamp")]),s._v("：设置以秒为单位的UNIX时间戳所对应的时间为过期时间；")]),s._v(" "),n("li",[n("code",[s._v("PXAT milliseconds-timstamp")]),s._v("：设置以毫秒为单位的UNIX时间戳所对应的时间为过期时间；")]),s._v(" "),n("li",[n("code",[s._v("NX")]),s._v("：键不存在的时候设置键值；")]),s._v(" "),n("li",[n("code",[s._v("XX")]),s._v("：键存在的时候设置键值；")]),s._v(" "),n("li",[n("code",[s._v("KEEPTTL")]),s._v("：保留设置前指定键的生存时间；")]),s._v(" "),n("li",[n("code",[s._v("GET")]),s._v("：返回指定键原本的值，若键不存在时返回"),n("code",[s._v("nil")]),s._v("。")])])]),s._v(" "),n("h4",{attrs:{id:"_3-2-2-mset命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-2-mset命令"}},[s._v("#")]),s._v(" 3.2.2 MSET命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("MSET key value [key value ...]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("同时设置/获取多个键值。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> mset k1 v1 k2 v2 k3 v3\nOK\n127.0.0.1:6379> mget k1 k2 k3\n1) "v1"\n2) "v2"\n3) "v3"\n127.0.0.1:6379> msetnx k1 v1 k4 v4\n(integer) 0\n127.0.0.1:6379> mget k1 k2 k3 k4\n1) "v1"\n2) "v2"\n3) "v3"\n4) (nil)\n127.0.0.1:6379> msetnx k5 v5 k4 v4\n(integer) 1\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("h4",{attrs:{id:"_3-2-3-setrange命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-3-setrange命令"}},[s._v("#")]),s._v(" 3.2.3 SETRANGE命令")]),s._v(" "),n("blockquote",[n("p",[n("code",[s._v("setrange")]),s._v("、"),n("code",[s._v("getrange")]),s._v("获取指定区间范围内的值。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> set k1 abcd1234\nOK\n127.0.0.1:6379> getrange k1 0 -1\n"abcd1234"\n127.0.0.1:6379> getrange k1 0 3\n"abcd"\n127.0.0.1:6379> setrange k1 1 xxyy\n(integer) 8\n127.0.0.1:6379> get k1\n"axxyy234"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("h4",{attrs:{id:"_3-2-4-incr-inctby命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-4-incr-inctby命令"}},[s._v("#")]),s._v(" 3.2.4 INCR /INCTBY命令")]),s._v(" "),n("blockquote",[n("p",[s._v("数值增减，一定要是数字才能进行加减。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> set k1 100\nOK\n127.0.0.1:6379> get k1\n"100"\n127.0.0.1:6379> incr k1\n(integer) 101\n127.0.0.1:6379> incr k1\n(integer) 102\n127.0.0.1:6379> incr k1\n(integer) 103\n127.0.0.1:6379> incr k1\n(integer) 104\n127.0.0.1:6379> incrby k1 3\n(integer) 107\n127.0.0.1:6379> incrby k1 3\n(integer) 110\n127.0.0.1:6379> incrby k1 3\n(integer) 113\n127.0.0.1:6379> decr k1\n(integer) 112\n127.0.0.1:6379> decr k1\n(integer) 111\n127.0.0.1:6379> decrby k1 3\n(integer) 108\n127.0.0.1:6379> decrby k1 3\n(integer) 105\n127.0.0.1:6379> decrby k1 3\n(integer) 102\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br")])]),n("h4",{attrs:{id:"_3-2-5-strlen-append命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-5-strlen-append命令"}},[s._v("#")]),s._v(" 3.2.5 STRLEN/APPEND命令")]),s._v(" "),n("blockquote",[n("p",[s._v("获取字符串长度和内容追加")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> set k1 abcd\nOK\n127.0.0.1:6379> strlen k1\n(integer) 4\n127.0.0.1:6379> append k1 xxxx\n(integer) 8\n127.0.0.1:6379> strlen k1\n(integer) 8\n127.0.0.1:6379> get k1\n"abcdxxxx"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("h4",{attrs:{id:"_3-2-6-setex-setnx命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-6-setex-setnx命令"}},[s._v("#")]),s._v(" 3.2.6 SETEX/SETNX命令")]),s._v(" "),n("blockquote",[n("p",[s._v("分布式锁。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> set k1 abcd\nOK\n127.0.0.1:6379> strlen k1\n(integer) 4\n127.0.0.1:6379> append k1 xxxx\n(integer) 8\n127.0.0.1:6379> strlen k1\n(integer) 8\n127.0.0.1:6379> get k1\n"abcdxxxx"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("h4",{attrs:{id:"_3-2-7-getset命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-7-getset命令"}},[s._v("#")]),s._v(" 3.2.7 GETSET命令")]),s._v(" "),n("blockquote",[n("p",[s._v("将给定"),n("code",[s._v("key")]),s._v("的值设为"),n("code",[s._v("value")]),s._v("，并返回"),n("code",[s._v("key")]),s._v("的旧值（"),n("code",[s._v("old value")]),s._v("）")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> getset k1 haha\n"v11"\n127.0.0.1:6379> get k1\n"haha"\n127.0.0.1:6379> set k1 v1 get\n"haha"\n127.0.0.1:6379> get k1\n"v1"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h4",{attrs:{id:"_3-2-8-应用场景"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-8-应用场景"}},[s._v("#")]),s._v(" 3.2.8 应用场景")]),s._v(" "),n("blockquote",[n("ol",[n("li",[s._v("比如抖音无限点赞某个视频或者商品，点一下加一次（"),n("code",[s._v("incr k1")]),s._v("）；")]),s._v(" "),n("li",[s._v("是否喜欢的文章。")])])]),s._v(" "),n("h3",{attrs:{id:"_3-3-redis-列表-list"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-redis-列表-list"}},[s._v("#")]),s._v(" 3.3 Redis 列表（List）")]),s._v(" "),n("blockquote",[n("p",[s._v("一个双端链表的结构，容量是2的32次方减一个元素，大概40多亿，主要功能有"),n("code",[s._v("push/pop")]),s._v("等，一般用在栈、消息、队列等场景。")]),s._v(" "),n("p",[s._v("他的底层实际是个双向链表，对两端的操作性能很高，通过索引下标的操作中间的节点性能会较差。")])]),s._v(" "),n("p",[n("img",{attrs:{src:e(585),alt:"image-20230419144100258"}})]),s._v(" "),n("h4",{attrs:{id:"_3-3-1-lpush-rpush-lrange命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-1-lpush-rpush-lrange命令"}},[s._v("#")]),s._v(" 3.3.1 LPUSH/RPUSH/LRANGE命令")]),s._v(" "),n("blockquote",[n("p",[s._v("向集合中添加元素。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> lpush list1 1 2 3 4 5\n(integer) 5\n127.0.0.1:6379> rpush list2 11 22 33 44 55\n(integer) 5\n127.0.0.1:6379> type list1\nlist\n127.0.0.1:6379> lrange list1 0 -1\n1) "5"\n2) "4"\n3) "3"\n4) "2"\n5) "1"\n127.0.0.1:6379> lrange list2 0 -1\n1) "11"\n2) "22"\n3) "33"\n4) "44"\n5) "55"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("h4",{attrs:{id:"_3-3-2-lpop-rpop命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-2-lpop-rpop命令"}},[s._v("#")]),s._v(" 3.3.2 LPOP/RPOP命令")]),s._v(" "),n("blockquote",[n("p",[s._v("将元素从集合中弹出。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> lrange list1 0 -1\n1) "5"\n2) "4"\n3) "3"\n4) "2"\n5) "1"\n127.0.0.1:6379> lpop list1\n"5"\n127.0.0.1:6379> lrange list1 0 -1\n1) "4"\n2) "3"\n3) "2"\n4) "1"\n127.0.0.1:6379> rpop list1\n"1"\n127.0.0.1:6379> lrange list1 0 -1\n1) "4"\n2) "3"\n3) "2"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("h4",{attrs:{id:"_3-3-3-lindex-llen命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-3-lindex-llen命令"}},[s._v("#")]),s._v(" 3.3.3 LINDEX/LLEN命令")]),s._v(" "),n("blockquote",[n("p",[n("code",[s._v("LINDEX")]),s._v("：按照索引下标获取元素（从上到下）")]),s._v(" "),n("p",[n("code",[s._v("LLEN")]),s._v("：获取列表中元素的个数。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> lindex list1 1\n"3"\n127.0.0.1:6379> llen list1\n(integer) 3\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h4",{attrs:{id:"_3-3-4-lrem命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-4-lrem命令"}},[s._v("#")]),s._v(" 3.3.4 LREM命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("LREM key count element\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("从left往right删除"),n("code",[s._v("count")]),s._v("个值等于"),n("code",[s._v("element")]),s._v("的元素。返回的值为实际删除的数量。")]),s._v(" "),n("p",[s._v("**"),n("code",[s._v("lrem list1 0 value")]),s._v("**表示删除全部给定值为"),n("code",[s._v("value")]),s._v("的值，"),n("strong",[s._v("零个就是全部值")])])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> lpush list1 1 1 1 1 2 2 2 3 3 3 4 5\n(integer) 15\n127.0.0.1:6379> lrange list1 0 -1\n 1) "5"\n 2) "4"\n 3) "3"\n 4) "3"\n 5) "3"\n 6) "2"\n 7) "2"\n 8) "2"\n 9) "1"\n10) "1"\n11) "1"\n12) "1"\n13) "4"\n14) "3"\n15) "2"\n127.0.0.1:6379> lrem list1 3 1\n(integer) 3\n127.0.0.1:6379> lrange list1 0 -1\n 1) "5"\n 2) "4"\n 3) "3"\n 4) "3"\n 5) "3"\n 6) "2"\n 7) "2"\n 8) "2"\n 9) "1"\n10) "4"\n11) "3"\n12) "2"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br")])]),n("h4",{attrs:{id:"_3-3-5-ltrim命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-5-ltrim命令"}},[s._v("#")]),s._v(" 3.3.5 LTRIM命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("LTRIM key start stop\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("截取指定范围的值后在赋值给key。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> lrange list2 0 -1\n 1) "0"\n 2) "1"\n 3) "2"\n 4) "3"\n 5) "4"\n 6) "5"\n 7) "6"\n 8) "7"\n 9) "8"\n10) "9"\n127.0.0.1:6379> ltrim list2 5 10\nOK\n127.0.0.1:6379> lrange list2 0 -1\n1) "5"\n2) "6"\n3) "7"\n4) "8"\n5) "9"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("h4",{attrs:{id:"_3-3-6-rpoplpush命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-6-rpoplpush命令"}},[s._v("#")]),s._v(" 3.3.6 RPOPLPUSH命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("BRPOPLPUSH source destination timeout\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("移除列表的最后一个元素，并将该元素添加到另一个列表并返回。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> lpush list1 0 1 2\n(integer) 3\n127.0.0.1:6379> lrange list1 0 -1\n1) "2"\n2) "1"\n3) "0"\n127.0.0.1:6379> lpush list2 4 5 6 \n(integer) 3\n127.0.0.1:6379> lrange list2 0 -1\n1) "6"\n2) "5"\n3) "4"\n127.0.0.1:6379> rpoplpush list1 list2\n"0"\n127.0.0.1:6379> lrange list1 0 -1\n1) "2"\n2) "1"\n127.0.0.1:6379> lrange list2 0 -1\n1) "0"\n2) "6"\n3) "5"\n4) "4"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br")])]),n("h4",{attrs:{id:"_3-3-7-lset命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-7-lset命令"}},[s._v("#")]),s._v(" 3.3.7 LSET命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("LSET key index element\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("替换指定下标的值")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> lset list1 1 100\nOK\n127.0.0.1:6379> lrange list1 0 -1\n1) "2"\n2) "100"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h4",{attrs:{id:"_3-3-8-linset命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-8-linset命令"}},[s._v("#")]),s._v(" 3.3.8 LINSET命令")]),s._v(" "),n("blockquote",[n("p",[s._v("在指定元素前/后添加元素。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("LINSERT key <BEFORE | AFTER> pivot element\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> linsert list1 before 100 2\n(integer) 3\n127.0.0.1:6379> lrange list1 0 -1\n1) "2"\n2) "2"\n3) "100"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h4",{attrs:{id:"_3-3-9-应用场景"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-9-应用场景"}},[s._v("#")]),s._v(" 3.3.9 应用场景")]),s._v(" "),n("blockquote",[n("p",[s._v("微信公众号订阅消息。")])]),s._v(" "),n("h3",{attrs:{id:"_3-4-redis哈希-hash"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-redis哈希-hash"}},[s._v("#")]),s._v(" 3.4 Redis哈希（Hash）")]),s._v(" "),n("blockquote",[n("p",[s._v("KV模式不变，但V是一个键值对。")])]),s._v(" "),n("h4",{attrs:{id:"_3-4-1-hset-hmset-hgetall-hdel命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-1-hset-hmset-hgetall-hdel命令"}},[s._v("#")]),s._v(" 3.4.1 HSET/HMSET/HGETALL/HDEL命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> hset user1 id 11 name zs age 34\n(integer) 3\n127.0.0.1:6379> hget user1 id\n"11"\n127.0.0.1:6379> hget user1 name\n"zs"\n127.0.0.1:6379> hmget user1 id name age\n1) "11"\n2) "zs"\n3) "34"\n127.0.0.1:6379> hgetall user1\n1) "id"\n2) "11"\n3) "name"\n4) "zs"\n5) "age"\n6) "34"\n127.0.0.1:6379> hdel user1 age\n(integer) 1\n127.0.0.1:6379> hgetall user1\n1) "id"\n2) "11"\n3) "name"\n4) "zs"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br")])]),n("h4",{attrs:{id:"_3-4-2-hlen命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-2-hlen命令"}},[s._v("#")]),s._v(" 3.4.2 HLEN命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("HLEN key\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("获取某个key内的全部数量。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("127.0.0.1:6379> hlen user1\n(integer) 2\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h4",{attrs:{id:"_3-4-3-hexists命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-3-hexists命令"}},[s._v("#")]),s._v(" 3.4.3 HEXISTS命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("HEXISTS key field\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("判断key里面某个key是否存在。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("127.0.0.1:6379> hexists user1 name\n(integer) 1\n127.0.0.1:6379> hexists user1 score\n(integer) 0\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h4",{attrs:{id:"_3-4-4-hkeys-hvals命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-4-hkeys-hvals命令"}},[s._v("#")]),s._v(" 3.4.4 HKEYS/HVALS命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("HKEYS key\nHVALS key\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("blockquote",[n("p",[n("code",[s._v("keys")]),s._v("：罗列出某个key里边所有的"),n("code",[s._v("key")]),s._v("。")]),s._v(" "),n("p",[n("code",[s._v("vals")]),s._v("：罗列出某个key里边所有的"),n("code",[s._v("val")]),s._v("。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> hkeys user1\n1) "id"\n2) "name"\n127.0.0.1:6379> hvals suer1\n(empty array)\n127.0.0.1:6379> hvals user1\n1) "11"\n2) "zs"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h4",{attrs:{id:"_3-4-5-hincrby-hincrbyfloat"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-5-hincrby-hincrbyfloat"}},[s._v("#")]),s._v(" 3.4.5 HINCRBY/HINCRBYFLOAT")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("HINCRBY key field increment\nHINCRBYFLOAT key field increment\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("blockquote",[n("p",[n("code",[s._v("HINCRBY")]),s._v("：按整数递增。")]),s._v(" "),n("p",[n("code",[s._v("HINCRBYFLOAT")]),s._v("：按小数递增。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> hset user1 age 23 score 90.5\n(integer) 2\n127.0.0.1:6379> hgetall user1\n1) "id"\n2) "11"\n3) "name"\n4) "zs"\n5) "age"\n6) "23"\n7) "score"\n8) "90.5"\n127.0.0.1:6379> hincrby user1 age 1\n(integer) 24\n127.0.0.1:6379> hincrby user1 age 1\n(integer) 25\n127.0.0.1:6379> hincrby user1 age 2\n(integer) 27\n127.0.0.1:6379> hincrbyfloat user1 score 0.5\n"91"\n127.0.0.1:6379> hincrbyfloat user1 score 0.5\n"91.5"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br")])]),n("h4",{attrs:{id:"_3-4-6-hsetnx命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-6-hsetnx命令"}},[s._v("#")]),s._v(" 3.4.6 HSETNX命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("HSETNX key field value\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("不存在赋值，存在了无效。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("127.0.0.1:6379> hsetnx user1 sex 1\n(integer) 1\n127.0.0.1:6379> hsetnx user1 sex 1\n(integer) 0\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h4",{attrs:{id:"_3-4-7-应用场景"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-7-应用场景"}},[s._v("#")]),s._v(" 3.4.7 应用场景")]),s._v(" "),n("blockquote",[n("p",[s._v("JD购物车早期，设计目前不在采用，当前小中厂还在使用。")])]),s._v(" "),n("p",[s._v("###3.5 Redis 集合（Set）")]),s._v(" "),n("blockquote",[n("p",[s._v("单值多"),n("code",[s._v("value")]),s._v("，且不重复。")])]),s._v(" "),n("h4",{attrs:{id:"_3-5-1-sadd命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-1-sadd命令"}},[s._v("#")]),s._v(" 3.5.1 SADD命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("SADD key member [member ...]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("添加元素。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("127.0.0.1:6379> sadd set1 1 1 1 2 2 3 4 5\n(integer) 5\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h4",{attrs:{id:"_3-5-2-smembers命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-2-smembers命令"}},[s._v("#")]),s._v(" 3.5.2 SMEMBERS命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("SMEMBERS key\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("遍历集合中的所有元素。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> smembers set1\n1) "1"\n2) "2"\n3) "3"\n4) "4"\n5) "5"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h4",{attrs:{id:"_3-5-3-sismember命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-3-sismember命令"}},[s._v("#")]),s._v(" 3.5.3 SISMEMBER命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("SISMEMBER key member\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("判断元素是否在集合中。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> smembers set1\n1) "1"\n2) "2"\n3) "3"\n4) "4"\n5) "5"\n127.0.0.1:6379> sismember set1 x\n(integer) 0\n127.0.0.1:6379> sismember set1 1\n(integer) 1\n127.0.0.1:6379> sismember set1 3\n(integer) 1\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("h4",{attrs:{id:"_3-5-4-srem命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-4-srem命令"}},[s._v("#")]),s._v(" 3.5.4 SREM命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("SREM key member [member ...]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("删除元素。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("127.0.0.1:6379> srem set1 y\n(integer) 0\n127.0.0.1:6379> srem set1 5\n(integer) 1\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h4",{attrs:{id:"_3-5-5-scard命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-5-scard命令"}},[s._v("#")]),s._v(" 3.5.5 SCARD命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("SCARD key\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("获取集合中元素的个数。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> smembers set1\n1) "1"\n2) "2"\n3) "3"\n4) "4"\n127.0.0.1:6379> scard set1\n(integer) 4\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("h4",{attrs:{id:"_3-5-6-srandmember命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-6-srandmember命令"}},[s._v("#")]),s._v(" 3.5.6 SRANDMEMBER命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("SRANDMEMBER key [count]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("从集合中随机展现设置的数字个数元素，元素不删除。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> srandmember set1 2\n1) "4"\n2) "2"\n127.0.0.1:6379> smembers set1\n1) "1"\n2) "2"\n3) "3"\n4) "4"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h4",{attrs:{id:"_3-5-7-spop命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-7-spop命令"}},[s._v("#")]),s._v(" 3.5.7 SPOP命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("SPOP key [count]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("从集合中随机弹出一个元素，出一个删除一个。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> spop set1 1\n1) "2"\n127.0.0.1:6379> spop set1 1\n1) "1"\n127.0.0.1:6379> smembers set1\n1) "3"\n2) "4"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("h4",{attrs:{id:"_3-5-8-smove命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-8-smove命令"}},[s._v("#")]),s._v(" 3.5.8 SMOVE命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("SMOVE source destination member\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("将"),n("code",[s._v("source")]),s._v("里已存在的某个值"),n("code",[s._v("member")]),s._v("赋给"),n("code",[s._v("destination")]),s._v("。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> smove set1 set2 4\n(integer) 1\n127.0.0.1:6379> smembers set1\n1) "3"\n127.0.0.1:6379> smembers set2\n1) "4"\n2) "100"\n3) "101"\n4) "102"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("h4",{attrs:{id:"_3-5-9-集合的差集运算"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-9-集合的差集运算"}},[s._v("#")]),s._v(" 3.5.9 集合的差集运算")]),s._v(" "),n("blockquote",[n("p",[n("code",[s._v("A：abc12")]),s._v("。")]),s._v(" "),n("p",[n("code",[s._v("B：123ax")]),s._v("。")]),s._v(" "),n("p",[s._v("A-B：属于A但不属于B的元素构成的集合。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("SDIFF key [key ...]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> sadd set1 a b c 1 2\n(integer) 5\n127.0.0.1:6379> sadd set2 1 2 3 a x\n(integer) 5\n127.0.0.1:6379> sdiff set1 set2\n1) "b"\n2) "c"\n127.0.0.1:6379> sdiff set2 set1\n1) "3"\n2) "x"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("h4",{attrs:{id:"_3-5-10-集合的并集运算"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-10-集合的并集运算"}},[s._v("#")]),s._v(" 3.5.10 集合的并集运算")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("SUNION key [key ...]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[n("code",[s._v("A∪B")]),s._v("：属于A或者属于B的元素合并后的集合。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> sdiff set2 set1\n1) "3"\n2) "x"\n127.0.0.1:6379> sunion set1 set2\n1) "3"\n2) "b"\n3) "1"\n4) "2"\n5) "a"\n6) "c"\n7) "x"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("h4",{attrs:{id:"_3-5-11-集合的交集运算"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-11-集合的交集运算"}},[s._v("#")]),s._v(" 3.5.11 集合的交集运算")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("SINTER key [key ...]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[n("code",[s._v("A∩B")]),s._v("：属于A同时也属于B的共同拥有的元素构成的集合。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> sinter set1 set2\n1) "1"\n2) "2"\n3) "a"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h4",{attrs:{id:"_3-5-12-sintercard命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-12-sintercard命令"}},[s._v("#")]),s._v(" 3.5.12 SINTERCARD命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("SINTERCARD numkeys key [key ...] [LIMIT limit]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("redis 7新命令，他不返回结果集，而只返回结果的基数。返回由所有给定集合的交集产生的集合的基数。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> sinter set1 set2\n1) "1"\n2) "2"\n3) "a"\n127.0.0.1:6379> sintercard 2 set1 set2\n(integer) 3\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h4",{attrs:{id:"_3-5-13-应用场景"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-13-应用场景"}},[s._v("#")]),s._v(" 3.5.13 应用场景")]),s._v(" "),n("blockquote",[n("ol",[n("li",[s._v("微信抽奖小程序")])])]),s._v(" "),n("p",[n("img",{attrs:{src:e(586),alt:"image-20230420120804368"}})]),s._v(" "),n("blockquote",[n("ol",{attrs:{start:"2"}},[n("li",[s._v("微信朋友圈点赞查看同赞朋友；")])])]),s._v(" "),n("p",[n("img",{attrs:{src:e(587),alt:"image-20230420121148183"}})]),s._v(" "),n("blockquote",[n("ol",{attrs:{start:"3"}},[n("li",[s._v("QQ内推可能认识的人。")])])]),s._v(" "),n("h3",{attrs:{id:"_3-6-redis-有序集合-zset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-redis-有序集合-zset"}},[s._v("#")]),s._v(" 3.6 Redis 有序集合（Zset）")]),s._v(" "),n("blockquote",[n("p",[s._v("在set基础上，每个"),n("code",[s._v("val")]),s._v("值前加一个"),n("code",[s._v("score")]),s._v("分数值。之前"),n("code",[s._v("set")]),s._v("是"),n("code",[s._v("k1 v1 v2 v3")]),s._v("，现在"),n("code",[s._v("zset")]),s._v("是："),n("code",[s._v("k1 score1 v1 score2 v2")])])]),s._v(" "),n("h4",{attrs:{id:"_3-6-1-zadd命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-1-zadd命令"}},[s._v("#")]),s._v(" 3.6.1 ZADD命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("ZADD key [NX | XX] [GT | LT] [CH] [INCR] score member [score member\n  ...]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("blockquote",[n("p",[s._v("向有序集合中加入一个元素和该元素的分数。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("127.0.0.1:6379> zadd zset1 60 v1 70 v2 80 v3 90 v4 100 v5\n(integer) 5\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h4",{attrs:{id:"_3-6-2-zrange命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-2-zrange命令"}},[s._v("#")]),s._v(" 3.6.2 ZRANGE命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("ZRANGE key start stop [BYSCORE | BYLEX] [REV] [LIMIT offset count]\n  [WITHSCORES]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("blockquote",[n("p",[s._v("按照元素分数从小到大的顺序，返回索引从start到stop之间的所有元素。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> zrange zset1 0 -1\n1) "v1"\n2) "v2"\n3) "v3"\n4) "v4"\n5) "v5"\n127.0.0.1:6379> zrange zset1 0 -1 withscores\n 1) "v1"\n 2) "60"\n 3) "v2"\n 4) "70"\n 5) "v3"\n 6) "80"\n 7) "v4"\n 8) "90"\n 9) "v5"\n10) "100"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br")])]),n("h4",{attrs:{id:"_3-6-3-zrevrange命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-3-zrevrange命令"}},[s._v("#")]),s._v(" 3.6.3 ZREVRANGE命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("ZREVRANGE key start stop [WITHSCORES]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("反转，返回索引从start到stop之间的所有元素。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> zrevrange zset1 0 -1 withscores\n 1) "v5"\n 2) "100"\n 3) "v4"\n 4) "90"\n 5) "v3"\n 6) "80"\n 7) "v2"\n 8) "70"\n 9) "v1"\n10) "60"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("h4",{attrs:{id:"_3-6-4-zrangebyscore命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-4-zrangebyscore命令"}},[s._v("#")]),s._v(" 3.6.4 ZRANGEBYSCORE命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("ZRANGEBYSCORE key min max [WITHSCORES] [LIMIT offset count]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("获取指定分数范围的元素。（"),n("code",[s._v("（")]),s._v("不包括）")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> zrangebyscore zset1 60 90\n1) "v1"\n2) "v2"\n3) "v3"\n4) "v4"\n127.0.0.1:6379> zrangebyscore zset1 60 90 withscores\n1) "v1"\n2) "60"\n3) "v2"\n4) "70"\n5) "v3"\n6) "80"\n7) "v4"\n8) "90"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("h4",{attrs:{id:"_3-6-5-zscore命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-5-zscore命令"}},[s._v("#")]),s._v(" 3.6.5 ZSCORE命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("ZSCORE key member\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("获取元素的分数。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> zscore zset1 v3\n"80"\n127.0.0.1:6379> zscore zset1 v2\n"70"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h4",{attrs:{id:"_3-6-6-zcard命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-6-zcard命令"}},[s._v("#")]),s._v(" 3.6.6 ZCARD命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("ZCARD key\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("获取集合中元素的个数。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("127.0.0.1:6379> zcard zset1\n(integer) 5\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h4",{attrs:{id:"_3-6-7-zrem命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-7-zrem命令"}},[s._v("#")]),s._v(" 3.6.7 ZREM命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("ZREM key member [member ...]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("删除元素。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> zrem zset1 v5\n(integer) 1\n127.0.0.1:6379> zrange zset1 0 -1\n1) "v1"\n2) "v2"\n3) "v3"\n4) "v4"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("h4",{attrs:{id:"_3-6-8-zincrby命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-8-zincrby命令"}},[s._v("#")]),s._v(" 3.6.8 ZINCRBY命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("ZINCRBY key increment member\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("增加某个元素的分数。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> zincrby zset1 3 v1\n"63"\n127.0.0.1:6379> zrange zset1 0 -1 withscores\n1) "v1"\n2) "63"\n3) "v2"\n4) "70"\n5) "v3"\n6) "80"\n7) "v4"\n8) "90"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("h4",{attrs:{id:"_3-6-9-zcount命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-9-zcount命令"}},[s._v("#")]),s._v(" 3.6.9 ZCOUNT命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("ZCOUNT key min max\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("获取指定分数范围内的元素个数。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("127.0.0.1:6379> zcount zset1 60 80\n(integer) 3\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h4",{attrs:{id:"_3-8-10-zmpop命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-8-10-zmpop命令"}},[s._v("#")]),s._v(" 3.8.10 ZMPOP命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("ZMPOP numkeys key [key ...] <MIN | MAX> [COUNT count]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("从键名列表中的第一个非空的排序集中弹出一个或多个元素，他们是成员分数对。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> zmpop 1 zset1 min count 1\n1) "zset1"\n2) 1) 1) "v1"\n      2) "63"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h4",{attrs:{id:"_3-8-10-zrank-zrevrank命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-8-10-zrank-zrevrank命令"}},[s._v("#")]),s._v(" 3.8.10 ZRANK/ZREVRANK命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("ZRANK key member [WITHSCORE]\nZREVRANK key member [WITHSCORE]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("blockquote",[n("p",[s._v("获取下标值。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> zrange zset1 0 -1\n1) "v2"\n2) "v3"\n3) "v4"\n127.0.0.1:6379> zrank zset1 v2\n(integer) 0\n127.0.0.1:6379> zrevrank zset1 v2\n(integer) 2\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h4",{attrs:{id:"_3-8-11-应用场景"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-8-11-应用场景"}},[s._v("#")]),s._v(" 3.8.11 应用场景")]),s._v(" "),n("blockquote",[n("p",[s._v("根据商品销售对商品进行排序。")])]),s._v(" "),n("p",[n("img",{attrs:{src:e(588),alt:"image-20230420142822822"}})]),s._v(" "),n("h3",{attrs:{id:"_3-7-redis-位图-bitmap"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-7-redis-位图-bitmap"}},[s._v("#")]),s._v(" 3.7 Redis 位图（Bitmap）")]),s._v(" "),n("blockquote",[n("p",[s._v("由0和1状态表示二进制位的bit数组。")]),s._v(" "),n("p",[s._v("需求：")]),s._v(" "),n("ol",[n("li",[s._v("用户是否登录过Y、N，比如京东每日签到送京豆；")]),s._v(" "),n("li",[s._v("电影、广告是否被点击播放过；")]),s._v(" "),n("li",[s._v("钉钉打卡上下班，签到统计。")])])]),s._v(" "),n("h4",{attrs:{id:"_3-7-1-setbit-getbit命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-7-1-setbit-getbit命令"}},[s._v("#")]),s._v(" 3.7.1 SETBIT/GETBIT命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("SETBIT key offset value\nGETBIT key offset\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("blockquote",[n("p",[s._v("Bitmap的偏移量是从零开始算的。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("127.0.0.1:6379> setbit k1 1 1\n(integer) 0\n127.0.0.1:6379> setbit k1 2 1\n(integer) 0\n127.0.0.1:6379> getbit k1 1\n(integer) 1\n127.0.0.1:6379> getbit k1 2\n(integer) 1\n127.0.0.1:6379> setbit k1 3 0\n(integer) 0\n127.0.0.1:6379> getbit k1 3\n(integer) 0\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("p",[n("img",{attrs:{src:e(589),alt:"image-20230420145052084"}})]),s._v(" "),n("h4",{attrs:{id:"_3-7-2-strlen命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-7-2-strlen命令"}},[s._v("#")]),s._v(" 3.7.2 STRLEN命令")]),s._v(" "),n("blockquote",[n("p",[s._v("不是字符串长度而是占据几个字节，超过8位后自己按照8位一组一byte再扩容。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("127.0.0.1:6379> strlen k1\n(integer) 1\n127.0.0.1:6379> setbit k1 8 1\n(integer) 0\n127.0.0.1:6379> strlen k1\n(integer) 2\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h4",{attrs:{id:"_3-7-3-bitcount命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-7-3-bitcount命令"}},[s._v("#")]),s._v(" 3.7.3 BITCOUNT命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("BITCOUNT key [start end [BYTE | BIT]]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("全部键里面含有"),n("code",[s._v("1")]),s._v("的有多少个。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("127.0.0.1:6379> bitcount k1\n(integer) 3\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h4",{attrs:{id:"_3-7-4-bitop命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-7-4-bitop命令"}},[s._v("#")]),s._v(" 3.7.4 BITOP命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("BITOP <AND | OR | XOR | NOT> destkey key [key ...]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("127.0.0.1:6379> bitop and k1 k2\n(integer) 0\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h4",{attrs:{id:"_3-7-5-应用场景"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-7-5-应用场景"}},[s._v("#")]),s._v(" 3.7.5 应用场景")]),s._v(" "),n("blockquote",[n("p",[s._v("签到，一年签到多少天。")])]),s._v(" "),n("h3",{attrs:{id:"_3-8-redis-基数统计-hyperloglog"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-8-redis-基数统计-hyperloglog"}},[s._v("#")]),s._v(" 3.8 Redis 基数统计（HyperLogLog）")]),s._v(" "),n("blockquote",[n("p",[s._v("基数：是一种数据集，去重复后的真实个数。")]),s._v(" "),n("p",[s._v("需求：")]),s._v(" "),n("ol",[n("li",[s._v("统计某个网站的UV、统计某个文章的UV。（UV：独立访客，一般理解为客户端IP）")]),s._v(" "),n("li",[s._v("用户搜索网站关键词的数量")]),s._v(" "),n("li",[s._v("统计用户每天搜索不同词条个数")])])]),s._v(" "),n("h4",{attrs:{id:"_3-8-1-pfadd命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-8-1-pfadd命令"}},[s._v("#")]),s._v(" 3.8.1 PFADD命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("PFADD key [element [element ...]]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("添加指定元素到"),n("code",[s._v("HyperLogLog")]),s._v("。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("127.0.0.1:6379> pfadd hy1 1 2 3 4 5 6\n(integer) 1\n127.0.0.1:6379> pfadd hy2 1 1 1 2 3 4 5 6\n(integer) 1\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h4",{attrs:{id:"_3-8-2-pfcount命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-8-2-pfcount命令"}},[s._v("#")]),s._v(" 3.8.2 PFCOUNT命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("PFCOUNT key [key ...]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("去重统计。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("127.0.0.1:6379> pfadd hy2 1 1 1 2 3 4 5 6\n(integer) 1\n127.0.0.1:6379> pfcount hy2\n(integer) 6\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h4",{attrs:{id:"_3-8-3-pfmerge命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-8-3-pfmerge命令"}},[s._v("#")]),s._v(" 3.8.3 PFMERGE命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("PFMERGE destkey [sourcekey [sourcekey ...]]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("合并结果，去重")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("127.0.0.1:6379> pfmerge distResult hy1 hy2\nOK\n127.0.0.1:6379> pfcount distResult\n(integer) 6\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h4",{attrs:{id:"_3-8-4-应用场景"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-8-4-应用场景"}},[s._v("#")]),s._v(" 3.8.4 应用场景")]),s._v(" "),n("blockquote",[n("p",[s._v("天猫网站首页亿级UV的redis统计方案。")])]),s._v(" "),n("h3",{attrs:{id:"_3-9-redis-地理空间-geo"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-9-redis-地理空间-geo"}},[s._v("#")]),s._v(" 3.9 Redis 地理空间（GEO）")]),s._v(" "),n("blockquote",[n("p",[s._v("Redis在3.2版本后添加了地理位置的处理。")])]),s._v(" "),n("h4",{attrs:{id:"_3-9-1-geoadd命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-9-1-geoadd命令"}},[s._v("#")]),s._v(" 3.9.1 GEOADD命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("GEOADD key [NX | XX] [CH] longitude latitude member [longitude\n  latitude member ...]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("blockquote",[n("p",[s._v("添加经纬度坐标。（中文乱码解决：退出登录，在登录时添加"),n("code",[s._v("-- raw")]),s._v("）")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> geoadd city 116.4 39.9 "tam" 116.4 39.9 "gg" 116.0 40.3 "cc"\n(integer) 3\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h4",{attrs:{id:"_3-9-2-geopos命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-9-2-geopos命令"}},[s._v("#")]),s._v(" 3.9.2 GEOPOS命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("GEOPOS key [member [member ...]]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("从给定的key里返回所有指定名称（member）的位置（经纬度），不存在的返回"),n("code",[s._v("nil")]),s._v("。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> geopos city  "tam" "gg" "cc"\n1) 1) "116.39999896287918091"\n   2) "39.90000009167092543"\n2) 1) "116.39999896287918091"\n   2) "39.90000009167092543"\n3) 1) "116.00000113248825073"\n   2) "40.29999936838388663"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("h4",{attrs:{id:"_3-9-3-geohash命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-9-3-geohash命令"}},[s._v("#")]),s._v(" 3.9.3 GEOHASH命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("GEOHASH key [member [member ...]]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("返回坐标的geohash表示。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> geohash city "tam" "gg"\n1) "wx4fbxxfke0"\n2) "wx4fbxxfke0"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h4",{attrs:{id:"_3-9-4-geodist命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-9-4-geodist命令"}},[s._v("#")]),s._v(" 3.9.4  GEODIST命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("GEODIST key member1 member2 [M | KM | FT | MI]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("返回两个给定位置之间的距离。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> geodist city "tam" "cc" km\n"56.0137"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h4",{attrs:{id:"_3-9-5-georadius命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-9-5-georadius命令"}},[s._v("#")]),s._v(" 3.9.5 GEORADIUS命令")]),s._v(" "),n("blockquote",[n("p",[s._v("以给定的经纬度为中心，返回键包含的位置当中，与中心的距离不超过给定最大距离的所有位置元素。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("GEORADIUS key longitude latitude radius <M | KM | FT | MI>\n  [WITHCOORD] [WITHDIST] [WITHHASH] [COUNT count [ANY]] [ASC | DESC]\n  [STORE key] [STOREDIST key]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("blockquote",[n("p",[s._v("参数：")]),s._v(" "),n("p",[n("code",[s._v("EITHDIST")]),s._v("：在返回位置元素的同时，将位置元素与中心之间的距离也一并返回。")]),s._v(" "),n("p",[n("code",[s._v("WITHCOORD")]),s._v("：将位置元素的经度和维度也一并返回。")]),s._v(" "),n("p",[n("code",[s._v("WITHHASH")]),s._v("：返回位置元素经过原始"),n("code",[s._v("GEOHASH")]),s._v("编码的有序集合分值，这个选项主要用于底层应用或者调试，实际中的作用并不大。")]),s._v(" "),n("p",[n("code",[s._v("COUNT")]),s._v("：限定返回的记录数。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> GEORADIUS city 116.4 39.9 10 km withdist withcoord withhash count 10 desc\n1) 1) "gg"\n   2) "0.0001"\n   3) (integer) 4069885360207904\n   4) 1) "116.39999896287918091"\n      2) "39.90000009167092543"\n2) 1) "tam"\n   2) "0.0001"\n   3) (integer) 4069885360207904\n   4) 1) "116.39999896287918091"\n      2) "39.90000009167092543"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("h4",{attrs:{id:"_3-9-6-georadiusbymember命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-9-6-georadiusbymember命令"}},[s._v("#")]),s._v(" 3.9.6 GEORADIUSBYMEMBER命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("GEORADIUSBYMEMBER key member radius <M | KM | FT | MI> [WITHCOORD]\n  [WITHDIST] [WITHHASH] [COUNT count [ANY]] [ASC | DESC] [STORE key]\n  [STOREDIST key]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("blockquote",[n("p",[s._v("找出位于指定范围内的元素，中心点是由给定的位置元素决定。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> georadiusbymember city "tam" 10 km withdist withcoord count 10 withhash\n1) 1) "gg"\n   2) "0.0000"\n   3) (integer) 4069885360207904\n   4) 1) "116.39999896287918091"\n      2) "39.90000009167092543"\n2) 1) "tam"\n   2) "0.0000"\n   3) (integer) 4069885360207904\n   4) 1) "116.39999896287918091"\n      2) "39.90000009167092543"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("h3",{attrs:{id:"_3-10-redis-流-stream"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-10-redis-流-stream"}},[s._v("#")]),s._v(" 3.10 Redis 流（Stream）")]),s._v(" "),n("blockquote",[n("p",[s._v("实现消息队列，他支持消息的持久化、支持自动生成全局唯一ID、支持ack确认消息的模式、支持消费组模式等，让消息队列更加的稳定和可靠。")])]),s._v(" "),n("p",[n("img",{attrs:{src:e(590),alt:"image-20230420190457593"}})]),s._v(" "),n("h4",{attrs:{id:"_3-10-1-队列相关指令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-10-1-队列相关指令"}},[s._v("#")]),s._v(" 3.10.1 队列相关指令")]),s._v(" "),n("h5",{attrs:{id:"_3-10-1-1-xadd命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-10-1-1-xadd命令"}},[s._v("#")]),s._v(" 3.10.1.1 XADD命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("XADD key [NOMKSTREAM] [<MAXLEN | MINID> [= | ~] threshold\n  [LIMIT count]] <* | id> field value [field value ...]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("blockquote",[n("p",[s._v("添加消息到队列末尾，消息ID必须要比上个ID大，默认用星号表示自动生成规矩，系统自动生成。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> xadd stream * id 11 cname zs\n"1681989356672-0" ----\x3e消息ID\n127.0.0.1:6379> xadd stream * id 12 cname ls\n"1681989363942-0"\n127.0.0.1:6379> xadd stream * id 13 cname ww\n"1681989373821-0"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h5",{attrs:{id:"_3-10-1-2-xrange命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-10-1-2-xrange命令"}},[s._v("#")]),s._v(" 3.10.1.2 XRANGE命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("XRANGE key start end [COUNT count]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("用于获取消息列表（可以指定范围），忽略删除的消息。start表示开始值，-代表最小值；end表示结束值，+代表最大值；count表示最多获取多少个值。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> xrange stream - + \n1) 1) "1681989356672-0"\n   2) 1) "id"\n      2) "11"\n      3) "cname"\n      4) "zs"\n2) 1) "1681989363942-0"\n   2) 1) "id"\n      2) "12"\n      3) "cname"\n      4) "ls"\n3) 1) "1681989373821-0"\n   2) 1) "id"\n      2) "13"\n      3) "cname"\n      4) "ww"\n127.0.0.1:6379> xrange stream - + count 1\n1) 1) "1681989356672-0"\n   2) 1) "id"\n      2) "11"\n      3) "cname"\n      4) "zs"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br")])]),n("h5",{attrs:{id:"_3-10-1-3-xrevrange命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-10-1-3-xrevrange命令"}},[s._v("#")]),s._v(" 3.10.1.3 XREVRANGE命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("XREVRANGE key end start [COUNT count]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("降序输出列表。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> xrevrange stream + -\n1) 1) "1681989373821-0"\n   2) 1) "id"\n      2) "13"\n      3) "cname"\n      4) "ww"\n2) 1) "1681989363942-0"\n   2) 1) "id"\n      2) "12"\n      3) "cname"\n      4) "ls"\n3) 1) "1681989356672-0"\n   2) 1) "id"\n      2) "11"\n      3) "cname"\n      4) "zs"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("h5",{attrs:{id:"_3-10-1-4-xdel命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-10-1-4-xdel命令"}},[s._v("#")]),s._v(" 3.10.1.4 XDEL命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("XDEL key id [id ...]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("根据指定ID删除。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> xdel stream 1681989356672-0\n(integer) 1\n127.0.0.1:6379> xrange stream - +\n1) 1) "1681989363942-0"\n   2) 1) "id"\n      2) "12"\n      3) "cname"\n      4) "ls"\n2) 1) "1681989373821-0"\n   2) 1) "id"\n      2) "13"\n      3) "cname"\n      4) "ww"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("h5",{attrs:{id:"_3-10-1-5-xlen命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-10-1-5-xlen命令"}},[s._v("#")]),s._v(" 3.10.1.5 XLEN命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("XLEN key\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("获取"),n("code",[s._v("stream")]),s._v("队列的消息的长度。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("127.0.0.1:6379> xlen stream\n(integer) 2\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h5",{attrs:{id:"_3-10-1-6-xtrim命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-10-1-6-xtrim命令"}},[s._v("#")]),s._v(" 3.10.1.6 XTRIM命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("XTRIM key <MAXLEN | MINID> [= | ~] threshold [LIMIT count]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("用于对stream的长度进行截取，MAXLEN允许的最大长度，对流进行修剪限制长度，MINID允许最小ID，从某个值开始比该ID值小的将会被抛弃。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('127.0.0.1:6379> xrange stream - +\n1) 1) "1681989363942-0"\n   2) 1) "id"\n      2) "12"\n      3) "cname"\n      4) "ls"\n2) 1) "1681989373821-0"\n   2) 1) "id"\n      2) "13"\n      3) "cname"\n      4) "ww"\n127.0.0.1:6379> xtrim stream maxlen 1\n(integer) 1\n127.0.0.1:6379> xrange stream - +\n1) 1) "1681989373821-0"\n   2) 1) "id"\n      2) "13"\n      3) "cname"\n      4) "ww"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("h5",{attrs:{id:"_3-10-1-7-xread命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-10-1-7-xread命令"}},[s._v("#")]),s._v(" 3.10.1.7 XREAD命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("XREAD [COUNT count] [BLOCK milliseconds] STREAMS key [key ...] id\n  [id ...]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[n("img",{attrs:{src:e(591),alt:"image-20230420194636883"}})]),s._v(" "),n("h4",{attrs:{id:"_3-10-2-消费组相关指令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-10-2-消费组相关指令"}},[s._v("#")]),s._v(" 3.10.2 消费组相关指令")]),s._v(" "),n("h5",{attrs:{id:"_3-10-2-1-xgroup-create"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-10-2-1-xgroup-create"}},[s._v("#")]),s._v(" 3.10.2.1 XGROUP CREATE")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("XGROUP CREATE key group <id | $> [MKSTREAM]\n  [ENTRIESREAD entries-read]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("blockquote",[n("p",[s._v("用于创建消费组。")])]),s._v(" "),n("p",[n("img",{attrs:{src:e(592),alt:"image-20230420195048875"}})]),s._v(" "),n("h5",{attrs:{id:"_3-10-2-2-xreadgroup-group"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-10-2-2-xreadgroup-group"}},[s._v("#")]),s._v(" 3.10.2.2 XREADGROUP GROUP")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("XREADGROUP GROUP group consumer [COUNT count] [BLOCK milliseconds]\n  [NOACK] STREAMS key [key ...] id [id ...]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[n("img",{attrs:{src:e(593),alt:"image-20230420201412516"}})]),s._v(" "),n("h3",{attrs:{id:"_3-11-redis-位域-bitfield"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-11-redis-位域-bitfield"}},[s._v("#")]),s._v(" 3.11 Redis 位域（Bitfield）")]),s._v(" "),n("blockquote",[n("p",[s._v("略")])])])}),[],!1,null,null,null);a.default=t.exports},585:function(s,a,e){s.exports=e.p+"assets/img/image-20230419144100258.96ecdc92.png"},586:function(s,a,e){s.exports=e.p+"assets/img/image-20230420120804368.88f3fd85.png"},587:function(s,a,e){s.exports=e.p+"assets/img/image-20230420121148183.a704277e.png"},588:function(s,a,e){s.exports=e.p+"assets/img/image-20230420142822822.6a53683a.png"},589:function(s,a,e){s.exports=e.p+"assets/img/image-20230420145052084.915dd845.png"},590:function(s,a,e){s.exports=e.p+"assets/img/image-20230420190457593.29d9b6b4.png"},591:function(s,a,e){s.exports=e.p+"assets/img/image-20230420194636883.f0608036.png"},592:function(s,a,e){s.exports=e.p+"assets/img/image-20230420195048875.ed1f5f2a.png"},593:function(s,a,e){s.exports=e.p+"assets/img/image-20230420201412516.d8fa29a1.png"}}]);