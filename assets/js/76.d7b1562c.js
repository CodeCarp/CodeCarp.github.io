(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{920:function(t,s,a){"use strict";a.r(s);var e=a(27),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"_7-适配器模式改造servlet"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-适配器模式改造servlet"}},[t._v("#")]),t._v(" 7. 适配器模式改造Servlet")]),t._v(" "),a("h3",{attrs:{id:"_7-1-编写一个servlet直接实现servlet接口有什么缺点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-编写一个servlet直接实现servlet接口有什么缺点"}},[t._v("#")]),t._v(" 7.1 编写一个Servlet直接实现Servlet接口有什么缺点？")]),t._v(" "),a("ul",[a("li",[t._v("我们只需要service方法，其他方法大部分情况下不需要使用。实现所有方法代码很丑陋！")])]),t._v(" "),a("h3",{attrs:{id:"_7-2-适配器设计模式adapter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-适配器设计模式adapter"}},[t._v("#")]),t._v(" 7.2 适配器设计模式Adapter")]),t._v(" "),a("ul",[a("li",[t._v("手机直接插到220V电压上，手机直接报废了，怎么办？可以找一个充电器，这个充电器就是一个适配器，手机连接适配器，适配器连接220V的电压，这样问题就解决了1")])]),t._v(" "),a("h3",{attrs:{id:"_7-3-编写一个genericservlet类-这个类是一个抽象类-其中有一个抽象方法service。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-3-编写一个genericservlet类-这个类是一个抽象类-其中有一个抽象方法service。"}},[t._v("#")]),t._v(" 7.3 编写一个GenericServlet类，这个类是一个抽象类，其中有一个抽象方法service。")]),t._v(" "),a("ul",[a("li",[t._v("GenericServlet实现Servlet接口；")]),t._v(" "),a("li",[t._v("GenericServlet是一个适配器；")]),t._v(" "),a("li",[t._v("以后所有的Servlet类继承GenericServlet，重写service方法即可")])]),t._v(" "),a("h3",{attrs:{id:"_7-4-思考-genericservlet类是否需要改造一下-怎么改造-更利于子类编写程序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-4-思考-genericservlet类是否需要改造一下-怎么改造-更利于子类编写程序"}},[t._v("#")]),t._v(" 7.4 思考：GenericServlet类是否需要改造一下？怎么改造？更利于子类编写程序？")]),t._v(" "),a("ul",[a("li",[t._v("问题一：我提供了一个GenericServlet之后，init方法还会执行吗？\n"),a("ul",[a("li",[t._v("还会执行，会执行GenericServlet类中的init方法。")])])]),t._v(" "),a("li",[t._v("第二问题：init方法谁调用？\n"),a("ul",[a("li",[t._v("Tomcat服务器调用")])])]),t._v(" "),a("li",[t._v("第三问题：init方法中的ServletConfig对象是谁创建的？是谁传过来的？\n"),a("ul",[a("li",[t._v("都是Tomcat干的")]),t._v(" "),a("li",[t._v("Tomcat服务器先后创建了ServletConfig对象，然后调用init方法，将ServletConfig对象传给init方法")])])])]),t._v(" "),a("h3",{attrs:{id:"_7-4-tomcat的伪代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-4-tomcat的伪代码"}},[t._v("#")]),t._v(" 7.4 Tomcat的伪代码：")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Tomcat")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .....")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Tomcat服务器伪代码")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建LoginServlet对象（通过反射机制，调用无参数构造方法来实例化LoginServlet对象）")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Class")]),t._v(" clazz "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.bjpowernode.javaweb.servlet.LoginServlet"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" clazz"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newInstance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        \n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 向下转型")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Servlet")]),t._v(" servlet "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Servlet")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        \n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建ServletConfig对象")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Tomcat服务器负责将ServletConfig对象实例化出来。")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 多态（Tomcat服务器完全实现了Servlet规范）")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ServletConfig")]),t._v(" servletConfig "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("apache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("catalina"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("StandardWrapperFacade")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        \n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 调用Servlet的init方法")]),t._v("\n        servlet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("servletConfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        \n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 调用Servlet的service方法")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ....")]),t._v("\n        \n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br")])]),a("h3",{attrs:{id:"_7-5-servletconfig"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-5-servletconfig"}},[t._v("#")]),t._v(" 7.5 ServletConfig")]),t._v(" "),a("ul",[a("li",[t._v("什么是ServletConfig？\n"),a("ul",[a("li",[t._v("Servlet对象的配置信息对象；")]),t._v(" "),a("li",[t._v("ServletConfig对象中封装了 "),a("code",[t._v("<servlet></servlet>")]),t._v("标签中的配置信息。（web.xml文件中servlet的配置信息）")])])])])])}),[],!1,null,null,null);s.default=n.exports}}]);