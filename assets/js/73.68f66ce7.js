(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{919:function(a,t,s){"use strict";s.r(t);var e=s(27),n=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"_4-开发一个带有servlet的webapp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-开发一个带有servlet的webapp"}},[a._v("#")]),a._v(" 4. 开发一个带有Servlet的Webapp")]),a._v(" "),s("p",[a._v("开发步骤：")]),a._v(" "),s("ul",[s("li",[s("p",[a._v("第一步：在webapps目录下新建一个目录，起名crm（这个crm是webapp的名字）")])]),a._v(" "),s("li",[s("p",[a._v("第二步：在webapp目录下新建一个目录：WEB-INF")]),a._v(" "),s("ul",[s("li",[a._v("注：这个目录名字是Servlet规范的，必须全部大写。")])])]),a._v(" "),s("li",[s("p",[a._v("第三步：在WEB-INF下新建一个目录：classes；")]),a._v(" "),s("ul",[s("li",[a._v("注：这个目录的名字是全部小写的classes，这也是Servlet的规范。另外这个目录下一定存放的是Java程序编译之后的class文件（字节码文件）。")])])]),a._v(" "),s("li",[s("p",[a._v("第四步：在WEB-INF目录下新建一个目录：lib")]),a._v(" "),s("ul",[s("li",[a._v("这个目录不是必须的，如果webapp需要第三方的jar包，这个jar包就得放在这个目录下这个目录的名字必须是全部小写的lib，这是Servlet中的规范；")])])]),a._v(" "),s("li",[s("p",[a._v("第五步：在WEB-INF目录下新建一个文件：web.xml；")]),a._v(" "),s("ul",[s("li",[a._v("注意：这个目录是必须的，这个文件名必须叫做web.xml，这个文件必须放在这里，一个合法的webapp，web.xml是必须的，这个web.xml是一个配置文件，在这个配置文件中描述了    请求路径   和  Servlet类   之间的对照关系。")])]),a._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token prolog"}},[a._v('<?xml version="1.0" encoding="UTF-8"?>')]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("web-app")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("xmlns")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("<https://jakarta.ee/xml/ns/jakartaee>"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("xmlns:")]),a._v("xsi")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("<http://www.w3.org/2001/XMLSchema-instance>"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("xsi:")]),a._v("schemaLocation")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("<https://jakarta.ee/xml/ns/jakartaee>\n                      <https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd>"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("version")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("5.0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("metadata-complete")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("true"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("\x3c!-- servlet描述信息--\x3e")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("servlet")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("servlet-name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("dfgsdfgsdf"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("servlet-name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("servlet-class")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("com.yliedu.servlet.HelloServlet"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("servlet-class")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("servlet")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("servlet-mapping")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("servlet-name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("dfgsdfgsdf"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("servlet-name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("url-pattern")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("/asdf/sadf/asdfa"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("url-pattern")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("servlet-mapping")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("web-app")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br"),s("span",{staticClass:"line-number"},[a._v("16")]),s("br"),s("span",{staticClass:"line-number"},[a._v("17")]),s("br"),s("span",{staticClass:"line-number"},[a._v("18")]),s("br"),s("span",{staticClass:"line-number"},[a._v("19")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("第六步：开发一个实现了Servlet接口的Java小程序")]),a._v(" "),s("ul",[s("li",[a._v("Tomcat服务器也需要使用这个接口，Tomcat中也有这个接口。")]),a._v(" "),s("li",[a._v("从JakartaEE9开始，Servlet接口的全类名变了：Jakarta.servlet.Servlet")]),a._v(" "),s("li",[a._v("编写这个Java小程序源代码可以随意放置，只要编译之后的class文件放到classes目录下即可。")])])]),a._v(" "),s("li",[s("p",[a._v("第七步：编写Java小程序")]),a._v(" "),s("ul",[s("li",[a._v("要使HelloServlet 编译通过，配置环境变量：CLASSPATH    ,;Tomcat位置\\lib\\servlet-api.jar")]),a._v(" "),s("li",[a._v("以上配置只是为了让HelloServlet编译生成class文件")])])]),a._v(" "),s("li",[s("p",[a._v("第八步：将以上编译生成的HelloServlet.class文件拷贝到WEB-INF\\classes目录下")])]),a._v(" "),s("li",[s("p",[a._v("第九步：在web.xml文件中编写配置信息，让“请求路径”与”Servlet类名“关联在一起。")]),a._v(" "),s("p",[a._v("一个合法的webapp目录结构：")]),a._v(" "),s("div",{staticClass:"language-markdown line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-markdown"}},[s("code",[a._v("webapproot\n     |------WEB-INF\n     \t\t  |------classes(存放字节码)\n     \t\t  |------lib(第三方jar包)\n     \t\t  |------web.xml(注册Servlet)\n     |------html\n     |------css\n     |------javascript\n     |------image\n     ....\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("第十步：启动Tomcat服务器")])]),a._v(" "),s("li",[s("p",[a._v("第十一步：打开浏览器，在浏览器地址栏上输入url，这个url必须是  项目名 + "),s("url-pattern"),a._v("上的地址。")],1)])]),a._v(" "),s("blockquote",[s("p",[a._v("不需要写main方法，Tomcat服务器负责调用main方法，Tomcat服务器启动时执行main方法，我们Javaweb程序只需要编写Servlet接口的实现类，然后将其注册到web.xml文件中。")])]),a._v(" "),s("h3",{attrs:{id:"_4-1-关于javaee的版本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-关于javaee的版本"}},[a._v("#")]),a._v(" 4.1 关于JavaEE的版本")]),a._v(" "),s("ul",[s("li",[a._v("JavaEE目前最高版本是javaEE8；")]),a._v(" "),s("li",[a._v("Oracle将JavaEE捐献给了Apache；")]),a._v(" "),s("li",[a._v("Apache将JavaEE换名了，以后叫做Jakarta EE；")]),a._v(" "),s("li",[a._v("JavaEE版本升级之后的JavaEE9不再是这个名字，叫做JakartaEE9；")]),a._v(" "),s("li",[a._v("JavaEE8的时候对应的Servlet类名是：javax.servlet.Servlet")]),a._v(" "),s("li",[a._v("JakartaEE9的时候对应的Servlet类名是：jakarta.servlet.Servlet（包名换了）")]),a._v(" "),s("li",[a._v("如果项目还在使用javax.servlet.Servlet。那么该项目无法部署到Tomcat10+版本上，只能部署到Tomcat9-版本上，在Tomcat9-的版本还支持javax.servlet.Servelt这个包")])]),a._v(" "),s("h3",{attrs:{id:"_4-2-解决tomcat服务器在dos命令窗口中的乱码问题-控制台乱码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-解决tomcat服务器在dos命令窗口中的乱码问题-控制台乱码"}},[a._v("#")]),a._v(" 4.2 解决Tomcat服务器在DOS命令窗口中的乱码问题（控制台乱码）")]),a._v(" "),s("p",[a._v("将CATALINA_HOME/conf/logging.properties文件的内容修改如下：")]),a._v(" "),s("p",[a._v("java.util.logging.ConsoleHandler.encoding = GBK;")])])}),[],!1,null,null,null);t.default=n.exports}}]);