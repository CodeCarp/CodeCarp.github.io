(window.webpackJsonp=window.webpackJsonp||[]).push([[170],{1074:function(t,a,s){"use strict";s.r(a);var n=s(27),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"取消表单验证"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#取消表单验证"}},[t._v("#")]),t._v(" 取消表单验证")]),t._v(" "),s("h3",{attrs:{id:"解释说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解释说明"}},[t._v("#")]),t._v(" 解释说明")]),t._v(" "),s("blockquote",[s("ol",[s("li",[s("code",[t._v("that")]),t._v(" 是函数调用的上下文，通常是指 Vue 组件的实例。")]),t._v(" "),s("li",[s("code",[t._v("formName")]),t._v(" 是要操作的表单的引用名称，通常是在 Vue 组件中通过 "),s("code",[t._v("ref")]),t._v(" 属性给表单元素指定的引用名称。")]),t._v(" "),s("li",[s("code",[t._v("propName")]),t._v(" 是要取消验证的字段的属性名，即需要取消验证的表单字段的标识符。")]),t._v(" "),s("li",[t._v("函数内部使用 "),s("code",[t._v("setTimeout")]),t._v(" 设置了一个非常短的延迟（1 毫秒）。这是为了确保清除验证操作在下一个事件循环中执行，以避免在同一事件循环中造成不必要的干扰。")]),t._v(" "),s("li",[t._v("在延迟结束后，函数通过 "),s("code",[t._v("that.$refs[formName].clearValidate(propName)")]),t._v(" 来清除指定字段的验证状态。"),s("code",[t._v("that.$refs[formName]")]),t._v(" 获取到了表单组件的引用，然后调用 "),s("code",[t._v("clearValidate(propName)")]),t._v(" 方法来清除指定字段的验证状态。")])])]),t._v(" "),s("h3",{attrs:{id:"业务场景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#业务场景"}},[t._v("#")]),t._v(" 业务场景")]),t._v(" "),s("blockquote",[s("ol",[s("li",[s("strong",[t._v("实时表单验证：")]),t._v(" 当用户在输入表单字段时，可能希望实时验证字段的有效性。如果用户输入不正确的值，可能会触发验证错误。这时，可以使用这个函数在用户继续输入后取消之前的验证状态，以便在新输入的值上重新进行验证。")]),t._v(" "),s("li",[s("strong",[t._v("动态表单字段：")]),t._v(" 在一些动态表单中，字段的可见性可能会根据其他字段的值而变化。当某个字段变得不可见时，可能希望取消该字段的验证状态，避免对不可见的字段进行无意义的验证。")]),t._v(" "),s("li",[s("strong",[t._v("步骤表单：")]),t._v(" 在多步骤的表单中，用户可能会在不同的步骤中填写不同的字段。当用户跳转到下一步骤时，可能希望取消当前步骤中已填写字段的验证状态，以便在用户回到该步骤时重新验证。")]),t._v(" "),s("li",[s("strong",[t._v("条件验证：")]),t._v(" 在某些情况下，需要根据特定条件来决定是否要验证某个字段。当条件不满足时，可以使用这个函数来取消字段的验证状态，避免不必要的验证。")]),t._v(" "),s("li",[s("strong",[t._v("表单重置：")]),t._v(" 当用户选择重置整个表单时，可能希望取消所有字段的验证状态，以便用户重新填写表单。")])])]),t._v(" "),s("h3",{attrs:{id:"代码实现"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#代码实现"}},[t._v("#")]),t._v(" 代码实现")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cancelValidate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("that"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("formName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("propName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        that"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$refs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("formName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("clearValidate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("propName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h3",{attrs:{id:"使用示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用示例"}},[t._v("#")]),t._v(" 使用示例")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cancelValidate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'myForm'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'email'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);